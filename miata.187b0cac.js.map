{"mappings":"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","sources":["src/miata/index.ts"],"sourcesContent":["// initialize constants\n// divs\n// const main_div = document.getElementById('main_div');\n// eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- We can be pretty sure it won't be null here.\nconst timer_div = document.getElementById('timer')!;\n// eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- We can be pretty sure it won't be null here.\nconst date_div = document.getElementById('date')!;\n// Cast to Input Elements\nconst paycheck_div = document.getElementById('paycheck') as HTMLInputElement;\nconst biweekly_budget_div = document.getElementById('biweekly-budget') as HTMLInputElement;\nconst daily_budget_div = document.getElementById('daily-budget') as HTMLInputElement;\nconst miata_cost_div = document.getElementById('miata-cost') as HTMLInputElement;\nconst tax_rate_div = document.getElementById('tax-rate') as HTMLInputElement;\nconst already_saved_div = document.getElementById('already-saved') as HTMLInputElement;\n// eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- We can be pretty sure it won't be null here.\nconst total_cost_div = document.getElementById('total-cost')!;\n\n// turn 'NaN', 'Infinity', '-Infinity', <any negative numbers>, -> '?'\nfunction parseInvalidValues(str: string): string {\n    const float_representation = parseFloat(str);\n    return Number.isFinite(float_representation) && float_representation >= 0 ? str : '?';\n}\n\n// turn nothing in data boxes -> 0\nfunction parseInput(str: string): number {\n    const float_representation = parseFloat(str);\n    return Number.isFinite(float_representation) ? float_representation : 0;\n}\n\nfunction parseDate(d: number): string {\n    const date = new Date(d);\n    const options: Intl.DateTimeFormatOptions = { day: 'numeric', month: 'short', year: 'numeric' };\n    return date.toLocaleString('en-US', options);\n}\n\nfunction calculateCost(): number {\n    const miata_cost = parseInput(miata_cost_div.value);\n    const tax_rate = parseInput(tax_rate_div.value);\n    const full_cost = miata_cost * (1 + tax_rate);\n\n    const already_saved = parseInput(already_saved_div.value);\n    if (already_saved >= full_cost) {\n        return 0;\n    }\n    return full_cost - already_saved;\n}\n\nfunction calculateTime(cost: number): number {\n    if (cost === 0) {\n        return 0;\n    }\n\n    const paycheck = parseInput(paycheck_div.value);\n    const biweekly_budget = parseInput(biweekly_budget_div.value);\n\n    if (biweekly_budget >= paycheck) {\n        // throw error\n        return NaN;\n    }\n\n    const daily_paycheck = (paycheck - biweekly_budget) / 14;\n    return cost / daily_paycheck;\n}\n\nfunction calculateDate(days: number): number {\n    const today = new Date();\n    return today.setDate(today.getDate() + days);\n}\n\nfunction update_biweekly_budget(): void {\n    const daily_budget = Number(daily_budget_div.value);\n    biweekly_budget_div.value = (daily_budget * 14).toFixed(2);\n}\n\nfunction update_daily_budget(): void {\n    const biweekly_budget = Number(biweekly_budget_div.value);\n    daily_budget_div.value = (biweekly_budget / 14).toFixed(2);\n}\n\nfunction toTwoDecimalPlaces(_event: EventTarget | null): void {\n    if (_event === null) {\n        return;\n    }\n\n    const event = _event as HTMLInputElement;\n    event.value = parseFloat(event.value).toFixed(2);\n}\n\nfunction draw_screen(): void {\n    const total_cost = calculateCost();\n    const total_days = calculateTime(total_cost);\n    const total_date = calculateDate(total_days);\n\n    const cost = parseInvalidValues(total_cost.toFixed(2));\n    const days = parseInvalidValues(total_days.toFixed(0));\n    // only show date if it is a day in the future\n    const date = total_days >= 0 ? parseDate(total_date) : 'Invalid Date';\n\n    total_cost_div.textContent = `$${cost}`;\n    timer_div.textContent = `${days} days`;\n    date_div.textContent = date;\n}\n\nfunction main(): void {\n    // initialize textboxes with specified fixedness\n    paycheck_div.value = parseFloat(paycheck_div.value).toFixed(2);\n    biweekly_budget_div.value = parseFloat(biweekly_budget_div.value).toFixed(2);\n    daily_budget_div.value = parseFloat(daily_budget_div.value).toFixed(2);\n    miata_cost_div.value = parseFloat(miata_cost_div.value).toFixed(2);\n    already_saved_div.value = parseFloat(already_saved_div.value).toFixed(2);\n\n    // draw screen when parameters are changed\n    paycheck_div.addEventListener('input', () => draw_screen());\n    miata_cost_div.addEventListener('input', () => draw_screen());\n    tax_rate_div.addEventListener('input', () => draw_screen());\n    already_saved_div.addEventListener('input', () => draw_screen());\n\n    // update both bi-weekly budget and daily budget when either are changed\n    biweekly_budget_div.addEventListener('input', () => { draw_screen(); update_daily_budget(); });\n    daily_budget_div.addEventListener('input', () => { draw_screen(); update_biweekly_budget(); });\n\n    // update fixedness when user has exited input box\n    paycheck_div.addEventListener('blur', (e) => { toTwoDecimalPlaces(e.target); });\n    biweekly_budget_div.addEventListener('blur', (e) => { toTwoDecimalPlaces(e.target); });\n    daily_budget_div.addEventListener('blur', (e) => { toTwoDecimalPlaces(e.target); });\n    miata_cost_div.addEventListener('blur', (e) => { toTwoDecimalPlaces(e.target); });\n    already_saved_div.addEventListener('blur', (e) => { toTwoDecimalPlaces(e.target); });\n\n    // draw initial screen\n    draw_screen();\n}\n\nmain();\n"],"names":[],"version":3,"file":"miata.187b0cac.js.map","sourceRoot":"/__parcel_source_root/"}